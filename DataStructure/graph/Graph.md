# Graph

- 점들(정점, node), 점들을 연결하는 선들(간선, edge)만으로 이루어진 지도 모양

  아래의 Edge가 하나 이상 있는 것이 그래프이다.

  ```c
  struct Edge{
      int snode;
      int enode;
      //int cost;
  }
  ```

- 특징

  - 그래프는 네트워크 모델이다.
  - 2개 이상의 경로가 가능하다. 즉, 노드들 사이에 무방향/방향에서 양방향 경로를 가질 수 있다.
  - 루트 노드 / 부모-자식 관계의 개념이 없다.
  - 순회는 DFS나 BFS로 이루어진다.
  - 순환(cyclic) 혹은 비순환(acyclic)이다.

- 용어

  - 정점(Vertex): 연결점, 여러가지 특성을 가질 수 있는 객체
    - 고립정점: 간선이 단 하나도 연결되지 않은 외톨이 정점
  - 간선(Edge): 두 정점을 연결하는 연결선, 두 정점간의 관계
    - 단방향 간선: 단방향으로만 이동 가능한 간선, 두 정점간의 관계
    - 양방향 간선: 양방향으로 모두 이동이 가능한 간선. 
    - 자기 간선: 자기 자신을 연결하는 간선
    - 다중 간선: 동일한 다른 접점과 여러 간선이 연결되는 간선
  - 인접: 두 정점이 하나의 간선으로 연결되어 있을 때 두 정점이 인접하다고 한다.
  - 차수(Degree): 정점에 연결된 간선의 수
    - 진입 차수: 정점으로 들어오는 간선의 수
    - 진출 차수: 정점에서 나가는 간선의 수
  - 경로(Path): 어떤 한 정점에서 어떤 하나의 정점으로 가는 길
    - 길이(Length): 어떤 경로에서 시작 정점에서 도착 정점까지 거쳐야 하는 정점의 수 
    - 단순 경로: 경로에서 시작, 끝 정점을 제외한 방문하는 모든 점이 서로 다른 경로.
      - 사이클(Cycle): 시작 정점과 끝 정점이 같은 단순 경로
        - 재귀 사이클: 간선 하나만으로 이루어진 사이클
  - 부분 그래프(Sub Graph): 그래프를 구성하는 정점들을 임의로 선택한 후 그 정점을 연결했던 간선들로 선택한 정점을 연결한 그래프

- 종류

  - 무방향/방향

    - 무방향 그래프(Undirected Graph) 

      -간선은 간선을 통해서 양방향을 갈 수 있다.

      -정점a와 정점b를 연결하는 간선은 (a,b)와 같이 정점의 쌍으로 표현, 순서 의미 없음

    - 방향 그래프(Directed Graph)

      -간선에 방향성이 존재하는 그래프

      -a->b로만 갈 수 있는 간선은 <a,b>로 표시, 순선 의미 있음

  - 가중치 그래프(Weighted Graph) : 간선에 비용/가중치가 할당된 그래프, '네트워크'

  - 연결/비연결

    - 연결 그래프(Connected Graph)

      -무방향 그래프에 있는 모든 정점쌍에 대해 항상 경로가 존재라는 경우

    - 비연결 그래프(Disconnected Graph)

      -특정 정점쌍 사이에 결로가 존재하지 않는 경우

  - 순환/비순환 그래프

    - 순환(Cycle)

      -단순 경로의 시작 정점과 종료 정점이 동일한 경우

      ​	단순 경로: 경로 중에서 반복되는 정점이 없는 경우

    - 비순환 그래프(Acyclic Graph)

      -사이클이 없는 그래프

  - 완전 그래프

    - 그래프에 속해 있는 모든 정점이 서로 연결되어 있는 그래프

    - 무방향 완전 그래프

      -정점 수=n이면 간선의 수=n*(n-1)/2

- 구현방법 - 인접 행렬(Adjacency Matrix)

  - 인접 행렬은 2차원 배열(n x n)로 표현될 수 있다. 탐색시간은 O(정점*간선)

  - 정수 행렬: edge가 존재하는 노드의 짝(j, j)의 배열 값을 1로 설정,

    ​				  존재하지 않는 노드의 짝(i, j)의 배열 값을 0으로 설정한다. 

  - 정점(노드)의 개수가 n인 그래프를 인접 행렬로 표현할 경우, 간선의 수와 무관하게 항상 n^2개의 메모리 공간이 필요하다.

  - 가중치 그래프에서는 배열 값을 w(가중치)로 설정할 수 있다.

  - 무방향 그래프는 인접행렬로 대칭 행렬(Symmetric Matrix)가 된다.

  - 인접 행렬은 인접한 노드를 찾기 위해서는 모든 노드를 전부 순회해야하기 때문에 인접 리스트에 비해 효율성이 떨어진다.

- 구현방법- 인접 리스트(Adjacency List)

  - 각 꼭짓점(vertex)의 리스트는 헤더(header)노드를 가진다.

    각 헤더노드들은 배열을 이용하여 연결된 각각의 노드를 순차적으로 가리킨다. (오름차순) 

    탐색시간은 O(정점+간선)

  - 정점의 번호만 알면이 번호를 배열의 인덱스로 하여 각 정점의 리스트에 쉽게 접근할 수 있다.

  - 무방향 그래프에서 (a, b) 간선은 두 번 저장된다. 한번은 a에, 한번은 b에 인접한 간선을 저장한다. 즉, 정점의 수=n이고 간선의 수=e라면 n개의 리스트, n개의 배열, 2e개의 노드가 필요하다. 

  - ```java
    class Graph{
        public Node[] nodes;
    }
    class Node{
        public String name;
        public Node[] children;
    }
    ```

- 인접 행렬 or 인접 리스트

  - 인접 리스트 

    - 그래프 내에 적은 숫자의 간선만을 가지는 희소 그래프(Sparse Graph)에 유리

    - 장점 : 어떤 노드에 인접한 노드들을 쉽게 찾을 수 있다.

      ​		  모든 간선의 수는 O(n+e) 안에 알 수 있다.

    - 단점 : 간선의 존재 여부와 정점의 차수 : 정점 i의 리스트에 있는 노드의 수(정점차수)만큼의 시간이 필요

  - 인접 행렬

    - 그래프에 간선이 많이 존재하는 밀집 그래프(Dense Graph)에 유리

    - 장점: 간선의 존재 여부를 O(1)안에 즉시 알 수 있다.

      ​		  정점의 차수는 O(n) 안에 알 수 있다.

    - 단점: 어떤 노드에 인점한 노드들을 찾기 위해서는 모든 노들를 전부 순회해야 한다.

      ​		  그래프에 존재하는 모든 간선의 수는 O(n^2) 안에 알 수 있다.